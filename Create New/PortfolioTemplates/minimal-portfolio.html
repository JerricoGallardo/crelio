<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic Page Needs -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Crealio - Minimal Template</title>

    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">
    <!-- Add Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon.png">

    <!-- Stylesheets -->
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">


    <!-- Custom styles for this template -->
    <link href="assets/css/style.css" rel="stylesheet">
    <link href="assets/css/responsive.css" rel="stylesheet">

    <!-- Make sure the CSS is loaded -->
    <style>
        @import url('assets/css/style.css');
        @import url('assets/css/responsive.css');

        /* Fix for site title cursor and alignment */
        #site-title {
            cursor: text !important;
            padding-top: 15px; /* Increased padding to move it lower */
            margin-bottom: 5px; /* Added margin to fine-tune position */
            line-height: 1; /* Tighter line height */
        }

        .site-logo-container {
            cursor: default;
            display: flex;
            align-items: center;
            height: 100%;
        }

        /* Adjust navigation alignment */
        .site-navigation {
            padding-top: 8px; /* Adjusted to match the MINIMAL text */
        }

        .site-navigation ul li a {
            padding-top: 12px;
            padding-bottom: 12px;
            line-height: 30px;
            display: inline-block;
        }

        /* Ensure the navigation row is properly aligned */
        .site-header .row {
            display: flex;
            align-items: center;
        }

        /* Additional style for about section */
        .section-about p {
            font-size: 18px;
            line-height: 1.8;
            margin-top: 20px;
        }

        /* Style for projects section */
        .section-portfolio {
            background-color: #f9f9f9;
            padding: 80px 0;
            position: relative;
        }

        /* Fix for portfolio items */
        .portfolio-item {
            height: 280px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .portfolio-item-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .portfolio-item-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s ease;
        }

        /* Portfolio Item and Modal Button Styles */
        .portfolio-item-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .portfolio-item-button {
            background: rgba(255, 255, 255, 0.8);
            color: #212121;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .portfolio-item-button:hover {
            background: #fff;
            color: #000;
            transform: scale(1.1);
        }
        
        .portfolio-modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .portfolio-modal-buttons .btn {
            flex: 1;
            text-align: center;
        }

        .portfolio-item:before {
            content: '';
            height: 100%;
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
            transition: background-color 0.25s ease-in-out;
        }

        .portfolio-item:hover:before {
            background-color: rgba(33,33,33,0.6);
        }

        .portfolio-item-info {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 999;
            opacity: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.25s ease-in-out;
            text-align: center;
            width: 100%;
            padding: 20px;
        }

        .portfolio-item:hover .portfolio-item-info {
            opacity: 1;
        }

        .portfolio-item-info h4 {
            margin: 0 0 20px;
            font-weight: 700;
            color: #fff;
        }

        /* Header and Navigation Styles */
        .site-header {
            position: fixed;
            top: 50px; /* Position below the editor toolbar */
            left: 0;
            width: 100%;
            z-index: 999;
            background-color: #fff;
            border-bottom: 2px solid #212121;
            padding: 15px 0;
            transition: all 0.3s ease-in-out, top 0.3s ease-in-out;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .site-header.sticky {
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .site-logo h1 {
            color: #212121;
            font-weight: bold;
            font-size: 28px;
            margin: 0;
            padding: 10px 0;
            letter-spacing: 1px;
            text-shadow: 0 1px 1px rgba(0,0,0,0.1);
        }

        .site-navigation {
            padding: 10px 0;
        }

        .site-navigation ul {
            margin: 0;
            padding: 0;
            list-style: none;
            text-align: right;
        }

        .site-navigation ul li {
            display: inline-block;
            margin-left: 20px;
        }

        .site-navigation ul li a {
            color: #212121;
            font-size: 14px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 10px 5px;
            display: block;
            position: relative;
            transition: all 0.3s;
            margin: 0 5px;
        }

        .site-navigation ul li a:hover,
        .site-navigation ul li a:focus,
        .site-navigation ul li.active a {
            color: #000;
            text-decoration: none;
            font-weight: 800;
        }

        .site-navigation ul li a:after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 3px;
            background-color: #212121;
            transition: width 0.3s ease;
        }

        .site-navigation ul li a:hover:after,
        .site-navigation ul li.active a:after {
            width: 100%;
        }

        /* Fix for navigation active state */
        .site-navigation ul li.active a {
            color: #000;
            font-weight: 800;
        }

        /* Force active state for specific sections */
        body.about-section .site-navigation ul li a[href="#about"],
        body.skills-section .site-navigation ul li a[href="#skills"],
        body.projects-section .site-navigation ul li a[href="#projects"],
        body.contact-section .site-navigation ul li a[href="#contact"],
        body.hero-section .site-navigation ul li a[href="#hero"] {
            color: #000;
            font-weight: 800;
        }

        body.about-section .site-navigation ul li a[href="#about"]:after,
        body.skills-section .site-navigation ul li a[href="#skills"]:after,
        body.projects-section .site-navigation ul li a[href="#projects"]:after,
        body.contact-section .site-navigation ul li a[href="#contact"]:after,
        body.hero-section .site-navigation ul li a[href="#hero"]:after {
            width: 100%;
        }

        /* Fix navigation alignment */
        .navbar-nav {
            float: right;
            margin: 0;
        }

        .navbar-nav > li {
            float: left;
        }

        .navbar-nav > li > a {
            padding-top: 15px;
            padding-bottom: 15px;
        }

        /* Mobile menu styles */
        .mobile-menu-toggle {
            text-align: right;
        }

        .navbar-toggle {
            margin: 10px 0;
            padding: 9px 10px;
            background-color: transparent;
            border: 1px solid transparent;
            border-radius: 4px;
            float: right;
        }

        .navbar-toggle .icon-bar {
            display: block;
            width: 22px;
            height: 2px;
            border-radius: 1px;
            background-color: #212121;
            margin: 4px 0;
        }

        @media (max-width: 767px) {
            .site-navigation {
                position: fixed;
                top: 120px; /* Position below the editor toolbar + header */
                left: 0;
                width: 100%;
                height: 0;
                background-color: #fff;
                overflow: hidden;
                transition: height 0.3s ease-in-out;
                box-shadow: 0 5px 5px rgba(0,0,0,0.1);
            }

            .site-navigation.active {
                height: auto;
                padding: 15px 0;
            }

            .site-navigation ul {
                text-align: center;
            }

            .site-navigation ul li {
                display: block;
                margin: 0;
                padding: 8px 0;
            }

            .site-navigation ul li a {
                display: inline-block;
            }

            .site-navigation ul li a:after {
                display: none;
            }
        }

        /* Adjust hero section to account for fixed header */
        .hero {
            padding-top: 180px; /* Increased to account for editor toolbar + header */
            background-color: #f2f2f2;
            min-height: 700px;
        }

        /* Progress bar styling - original style with percentage */
        .progress {
            height: 16px; /* Medium height progress bar */
            margin-bottom: 30px;
            margin-top: 10px;
            overflow: hidden; /* Hide overflow */
            background-color: #e0d0ff; /* Light purple background */
            border-radius: 4px; /* Rounded corners */
            box-shadow: none;
            position: relative;
            cursor: pointer;
        }

        .progress-bar {
            float: left;
            width: 0;
            height: 100%;
            background-color: #000; /* Black progress bar */
            box-shadow: none;
            transition: width .6s ease;
            position: relative;
            border-radius: 4px; /* Rounded corners */
            text-align: right; /* Align text to the right */
            padding-right: 5px; /* Add some padding */
            font-size: 0; /* Hide any text content */
            line-height: 16px; /* Match height */
            font-weight: bold; /* Make text bold */
            color: transparent; /* Make text transparent */
        }

        /* Add percentage text inside the progress bar */
        .progress-bar::after {
            content: attr(data-content);
            position: absolute;
            right: 5px;
            top: 0;
            color: #fff;
            font-size: 12px;
            line-height: 16px;
            font-weight: bold;
        }

        /* No need for ::after pseudo-element as we're displaying text directly */



        /* Skill section styling */
        .skill {
            margin-bottom: 30px;
            position: relative;
        }

        .skill h4 {
            font-size: 16px;
            text-transform: uppercase;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
        }

        /* Adjust delete button position */
        .skill .item-controls {
            position: absolute;
            top: 10px;
            right: -5px; /* Position it very close to the progress bar */
            display: flex;
            gap: 5px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .skill .section-control-btn.remove-btn {
            width: 24px;
            height: 24px;
            font-size: 12px;
        }

        .hero h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            letter-spacing: 1px;
        }

        .hero .job-title {
            font-size: 22px;
            margin-bottom: 30px;
            font-weight: 400;
        }

        .hero .btn {
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .hero-image-wrapper {
            position: relative;
            padding: 20px;
        }

        .hero-image-wrapper img {
            max-width: 100%;
            height: auto;
            border: 10px solid #fff;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* Additional Portfolio Perfect Styles */
        h2, h3 {
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 700;
            font-size: 24px;
        }

        h3 {
            font-size: 20px;
        }

        p {
            font-size: 14px;
            line-height: 1.6;
        }

        .btn {
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            padding: 8px 20px;
            font-size: 12px;
        }

        .section-about,
        .section-portfolio,
        .section-form {
            padding: 60px 0;
            background-color: #fff;
        }

        .section-skills,
        .section-counters {
            padding: 60px 0;
            background-color: #f2f2f2;
        }

        .section-services {
            padding: 60px 0;
        }

        /* Adjust spacing for skills section */
        .section-skills h3 {
            margin-bottom: 10px;
        }

        .section-skills .skill {
            margin-bottom: 30px;
        }

        /* Portfolio Modal Styles */
        .portfolio-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.7);
        }

        .portfolio-modal-content {
            position: relative;
            background-color: #fff;
            margin: 5% auto;
            padding: 20px;
            width: 90%;
            max-width: 1200px;
            border-radius: 5px;
        }

        .portfolio-modal-close {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .portfolio-modal-body {
            display: flex;
            flex-direction: column;
            width: 100%;
        }

        .portfolio-modal-body img {
            width: 100%;
            max-width: 100%;
            height: auto;
            margin-bottom: 20px;
            object-fit: contain;
        }

        .portfolio-modal-details {
            width: 100%;
        }

        /* Custom styles */
        /* Add your custom styles here */
        
        /* New custom styles */
        .section-contact .contact-item {
            margin-bottom: 30px;
            text-align: center;
            padding: 15px;
            transition: all 0.3s ease;
        }
        
        .section-contact .contact-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }
        
        .section-contact .contact-icon {
            font-size: 2em;
            margin-bottom: 15px;
            color: #FF5722;
            height: 60px;
            width: 60px;
            line-height: 60px;
            border-radius: 50%;
            background-color: rgba(255, 85, 34, 0.1);
            margin: 0 auto 15px;
        }
        
        .section-contact .contact-content h4 {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .section-contact .contact-content p {
            margin-bottom: 0;
            color: #999;
        }
        
        .section-contact .social-links {
            margin-top: 20px;
        }
        
        .contact-link {
            text-decoration: none;
            color: inherit;
        }
        
        .contact-link:hover {
            color: #FF5722;
        }
    </style>

    <!-- Editor Toolbar Styles -->
    <style>
        .editor-toolbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: #fff;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            z-index: 9999;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transform: translateY(0);
            transition: transform 0.3s ease-in-out;
        }

        .toolbar-buttons {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .toolbar-btn {
            padding: 8px 12px;
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .toolbar-btn:hover {
            background-color: #e9ecef;
        }

        .toolbar-btn.primary {
            background-color: #212121;
            color: white;
            border-color: #212121;
        }

        .toolbar-btn.primary:hover {
            background-color: #000;
        }

        .font-select,
        .size-select {
            background: transparent;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 14px;
            color: #555;
            cursor: pointer;
            margin: 0 5px;
        }

        .edit-mode-indicator {
            background-color: #28a745;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 10px;
            display: none;
        }

        .preview-mode-indicator {
            background-color: #17a2b8;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 10px;
            display: none;
        }

        [contenteditable="true"]:focus {
            outline: 2px dashed #212121;
            outline-offset: 2px;
        }

        .section-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .section-control-btn {
            background: #f8f9fa;
            border: 1px solid #ddd;
            color: #555;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .section-control-btn:hover {
            background: #212121;
            color: white;
            border-color: #212121;
        }

        .section-control-btn.add-btn {
            background: #212121;
            color: white;
            border-color: #212121;
        }

        .section-control-btn.add-btn:hover {
            background: #000;
        }

        .section-control-btn.remove-btn {
            background: #dc3545;
            color: white;
            border-color: #dc3545;
        }

        .section-control-btn.remove-btn:hover {
            background: #c82333;
        }

        .item-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .portfolio-item:hover .item-controls,
        .service:hover .item-controls,
        .skill:hover .item-controls {
            opacity: 1;
        }

        /* Fix for img-res class */
        .img-res {
            display: block;
            width: 100%;
            height: auto;
            max-width: 100%;
        }
    </style>
</head>
<body style="padding-top: 0;">
    <!-- Editor Toolbar -->
    <div id="editor-toolbar" class="editor-toolbar" style="position: fixed; top: 0; left: 0; width: 100%; background-color: #fff; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); z-index: 9999; padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; transition: all 0.3s ease;">
        <div style="display: flex; align-items: center;">
            <button class="toolbar-btn" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 15px;" onclick="window.location.href='../createnewportfolio.html'">
                <i class="glyphicon glyphicon-arrow-left" style="margin-right: 5px;"></i>
                Back
            </button>
            <button class="toolbar-btn" style="padding: 8px 12px; background-color: #6f42c1; color: white; border: 1px solid #6f42c1; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 15px;" id="save-btn">
                <i class="glyphicon glyphicon-floppy-disk" style="margin-right: 5px;"></i>
                Save
            </button>
            <button class="toolbar-btn" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 15px;" id="preview-btn" data-preview="false">
                <i class="glyphicon glyphicon-eye-open" style="margin-right: 5px;"></i>
                <span id="preview-text">Preview</span>
            </button>
            <div style="width: 1px; height: 24px; background-color: #dee2e6; margin: 0 15px;"></div>
            <button class="toolbar-btn edit-mode-only" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 10px;" id="undo-btn" title="Undo">
                <i class="glyphicon glyphicon-arrow-left"></i>
            </button>
            <button class="toolbar-btn edit-mode-only" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 15px;" id="redo-btn" title="Redo">
                <i class="glyphicon glyphicon-arrow-right"></i>
            </button>
            <div class="edit-mode-only" style="width: 1px; height: 24px; background-color: #dee2e6; margin: 0 15px;"></div>
            <button class="toolbar-btn edit-mode-only" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 10px;" id="bold-btn" title="Bold">
                <i class="glyphicon glyphicon-bold"></i>
            </button>
            <button class="toolbar-btn edit-mode-only" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 10px;" id="italic-btn" title="Italic">
                <i class="glyphicon glyphicon-italic"></i>
            </button>
            <button class="toolbar-btn edit-mode-only" style="padding: 8px 12px; background-color: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; cursor: pointer; font-size: 14px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; margin-right: 15px;" id="underline-btn" title="Underline">
                <i class="glyphicon glyphicon-text-color"></i>
            </button>
            <div class="edit-mode-only" style="width: 1px; height: 24px; background-color: #dee2e6; margin: 0 15px;"></div>
            <select class="toolbar-select edit-mode-only" style="background: transparent; border: 1px solid #dee2e6; border-radius: 4px; padding: 6px 10px; font-size: 14px; color: #555; cursor: pointer; margin-right: 10px; transition: all 0.2s;" id="font-family-select">
                <option value="Arial">Arial</option>
                <option value="Poppins">Poppins</option>
                <option value="Helvetica">Helvetica</option>
                <option value="Times New Roman">Times New Roman</option>
                <option value="Courier New">Courier New</option>
                <option value="Georgia">Georgia</option>
                <option value="Verdana">Verdana</option>
                <option value="Roboto">Roboto</option>
                <option value="Open Sans">Open Sans</option>
                <option value="Lato">Lato</option>
                <option value="Montserrat">Montserrat</option>
                <option value="Nunito">Nunito</option>
            </select>
            <select class="toolbar-select edit-mode-only" style="background: transparent; border: 1px solid #dee2e6; border-radius: 4px; padding: 6px 10px; font-size: 14px; color: #555; cursor: pointer; transition: all 0.2s;" id="font-size-select">
                <option value="10px">10px</option>
                <option value="12px">12px</option>
                <option value="14px">14px</option>
                <option value="16px">16px</option>
                <option value="18px">18px</option>
                <option value="20px">20px</option>
                <option value="24px">24px</option>
                <option value="28px">28px</option>
                <option value="32px">32px</option>
                <option value="36px">36px</option>
                <option value="42px">42px</option>
                <option value="48px">48px</option>
                <option value="56px">56px</option>
                <option value="64px">64px</option>
                <option value="72px">72px</option>
            </select>
        </div>
        <div style="font-weight: 500; color: #333; margin-right: 15px;">Minimal Template</div>
    </div>

    <header id="masthead" class="site-header">
        <div class="container">
            <div class="row">
                <div class="col-md-3 col-sm-6 col-xs-6">
                    <div class="site-logo-container">
                        <h1 id="site-title" contenteditable="true" style="margin: 0; padding-top: 15px; margin-bottom: 5px; font-weight: bold; font-size: 28px; color: #212121; letter-spacing: 1px; cursor: text; line-height: 1;">MINIMAL</h1>
                        <a href="#hero" class="site-logo-link" style="display: none;"></a>
                    </div>
                </div>
                <div class="col-md-9 col-sm-6 col-xs-6">
                    <div class="mobile-menu-toggle visible-xs visible-sm">
                        <button type="button" class="navbar-toggle">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <nav id="primary-navigation" class="site-navigation">
                        <ul class="nav navbar-nav navbar-right">
                            <li class="page-scroll"><a href="#hero">HOME</a></li>
                            <li class="page-scroll"><a href="#about">ABOUT</a></li>
                            <li class="page-scroll"><a href="#projects">PROJECTS</a></li>
                            <li class="page-scroll"><a href="#skills">SKILLS</a></li>
                            <li class="page-scroll"><a href="#contact">CONTACT</a></li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </header><!-- /#header -->

    <div id="hero" class="hero">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1 contenteditable="true" style="text-decoration: none;">ALEX VIDAL</h1>
                    <div class="page-scroll">
                        <p class="job-title" contenteditable="true">Full Stack Developer</p>
                        <a href="#contact" class="btn btn-fill" contenteditable="true">HIRE ME</a>
                        <div class="clearfix visible-xxs"></div>
                        <a href="#projects" class="btn btn-border" contenteditable="true">EXPLORE MORE</a>
                    </div>
                </div>
                <div class="col-md-6 text-right">
                    <div class="hero-image-wrapper">
                        <img src="assets/img/alex-vidal.png" alt="profile" id="profile-image">
                        <div class="text-right" style="margin-top: 10px;">
                            <button class="btn btn-border" onclick="document.getElementById('profile-upload').click()">CHANGE IMAGE</button>
                            <input type="file" id="profile-upload" style="display: none;" accept="image/*">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- /.hero -->

    <main id="main" class="site-main">
        <section id="about" class="site-section section-about text-center">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-md-offset-3">
                        <h2 contenteditable="true">ABOUT</h2>
                        <img src="assets/img/lines.svg" class="img-lines" alt="lines">
                        <p contenteditable="true" style="font-size: 18px;">Hello! I'm Alex, a full stack developer, a Ruby enthusiast, and a guy slightly obsessed with code quality. Also I'm a co-founder of pykod.com. I'm currently available for freelance work. If you have a project that you want to get started or think you need my help with something, then get in touch.</p>
                        <p contenteditable="true" style="font-size: 18px;">With over 10 years of experience in web development, I've worked with a variety of technologies and frameworks. My approach combines technical expertise with a focus on clean, maintainable code that delivers exceptional user experiences. I believe in continuous learning and staying updated with the latest industry trends.</p>
                    </div>
                </div>
            </div>
        </section><!-- /.secton-about -->

        <section id="projects" class="site-section section-portfolio" style="background-color: #f9f9f9;">
            <div class="container">
                <div class="text-center">
                    <h3 contenteditable="true">MY RECENT WORKS</h3>
                    <img src="assets/img/lines.svg" class="img-lines" alt="lines">
                    <div class="section-controls">
                        <button class="section-control-btn add-btn" id="add-portfolio-btn" title="Add Portfolio Item"><i class="glyphicon glyphicon-plus"></i></button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <div class="portfolio-item">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Portfolio Item"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <div class="portfolio-item-wrapper">
                                <img src="assets/img/portfolio/portfolio-1.jpg" class="img-res" alt="" id="portfolio-image-1">
                                <div class="portfolio-item-overlay">
                                    <h4>Project Title</h4>
                                    <div class="portfolio-item-buttons">
                                        <a href="#" class="portfolio-item-button view-project" data-project="1" title="View Project"><i class="glyphicon glyphicon-eye-open"></i></a>
                                        <a href="#" class="portfolio-item-button edit-project" onclick="document.getElementById('portfolio-upload-1').click(); return false;" title="Change Image"><i class="glyphicon glyphicon-pencil"></i></a>
                                    </div>
                                </div>
                            </div>
                            <input type="file" id="portfolio-upload-1" style="display: none;" accept="image/*"><!-- /.portfolio-item-info -->
                        </div><!-- /.portfolio-item -->
                    </div>
                    <div class="col-md-4 col-xs-6">
                        <div class="portfolio-item">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Portfolio Item"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <div class="portfolio-item-wrapper">
                                <img src="assets/img/portfolio/portfolio-2.jpg" class="img-res" alt="" id="portfolio-image-2">
                                <div class="portfolio-item-overlay">
                                    <h4>Project Title</h4>
                                    <div class="portfolio-item-buttons">
                                        <a href="#" class="portfolio-item-button view-project" data-project="2" title="View Project"><i class="glyphicon glyphicon-eye-open"></i></a>
                                        <a href="#" class="portfolio-item-button edit-project" onclick="document.getElementById('portfolio-upload-2').click(); return false;" title="Change Image"><i class="glyphicon glyphicon-pencil"></i></a>
                                    </div>
                                </div>
                            </div>
                            <input type="file" id="portfolio-upload-2" style="display: none;" accept="image/*"><!-- /.portfolio-item-info -->
                        </div><!-- /.portfolio-item -->
                    </div>
                    <div class="col-md-4 col-xs-6">
                        <div class="portfolio-item">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Portfolio Item"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <div class="portfolio-item-wrapper">
                                <img src="assets/img/portfolio/portfolio-3.jpg" class="img-res" alt="" id="portfolio-image-3">
                                <div class="portfolio-item-overlay">
                                    <h4>Project Title</h4>
                                    <div class="portfolio-item-buttons">
                                        <a href="#" class="portfolio-item-button view-project" data-project="3" title="View Project"><i class="glyphicon glyphicon-eye-open"></i></a>
                                        <a href="#" class="portfolio-item-button edit-project" onclick="document.getElementById('portfolio-upload-3').click(); return false;" title="Change Image"><i class="glyphicon glyphicon-pencil"></i></a>
                                    </div>
                                </div>
                            </div>
                            <input type="file" id="portfolio-upload-3" style="display: none;" accept="image/*"><!-- /.portfolio-item-info -->
                        </div><!-- /.portfolio-item -->
                    </div>
                </div>
            </div>
        </section><!-- /.secton-portfolio -->

        <section id="skills" class="site-section section-skills">
            <div class="container">
                <div class="text-center">
                    <h3 contenteditable="true">MY SKILLS</h3>
                    <img src="assets/img/lines.svg" class="img-lines" alt="lines">
                    <div class="section-controls">
                        <button class="section-control-btn add-btn" id="add-skill-btn" title="Add Skill"><i class="glyphicon glyphicon-plus"></i></button>
                    </div>
                </div>
                <div class="row" style="margin-top: 50px;">
                    <div class="col-md-4">
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">HTML/CSS</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="100" data-percentage="100" data-content="100%" style="width: 100%"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">PYTHON</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="75" data-percentage="75" data-content="75%" style="width: 75%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">JAVASCRIPT</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="82" data-percentage="82" data-content="82%" style="width: 82%"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">RUBY</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="66" data-percentage="66" data-content="66%" style="width: 66%"></div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">PHP</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="97" data-percentage="97" data-content="97%" style="width: 97%"></div>
                            </div>
                        </div>
                        <div class="skill">
                            <div class="item-controls">
                                <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                            </div>
                            <h4 contenteditable="true">JAVA</h4>
                            <div class="progress">
                                <div class="progress-bar" role="progressbar" data-transitiongoal="45" data-percentage="45" data-content="45%" style="width: 45%"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section><!-- /.secton-skills -->

        <section class="site-section section-counters text-center">
            <div class="container">
                <div class="row">
                    <div class="col-sm-4 col-xs-12">
                        <p class="counter start" data-to="10" data-speed="2000">0</p>
                        <h4>Years Experience</h4>
                    </div>
                    <div class="col-sm-4 col-xs-12">
                        <p class="counter start" data-to="120" data-speed="2000">0</p>
                        <h4>Projects Delivered</h4>
                    </div>
                    <div class="col-sm-4 col-xs-12">
                        <p id="infinity" class="counter" data-from="0" data-to="1" data-speed="1000">0</p>
                        <h4>Seconds on this site!<br>What are you waiting for?</h4>
                    </div>
                </div>
            </div>
        </section><!-- /.section-counters -->

        <section id="contact" class="site-section section-contact text-center">
            <div class="container">
                <h3 contenteditable="true">CONTACT</h3>
                <img src="assets/img/lines.svg" class="img-lines" alt="lines">
                <div class="row contact-info">
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-envelope"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Email</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" data-editable-link="email" class="editable-link">your.email@example.com</p>
                                <a href="mailto:your.email@example.com" target="_blank" class="preview-link" style="display: none; color: inherit; text-decoration: none;">your.email@example.com</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-phone"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Phone</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" class="editable-link">+1 234 567 890</p>
                                <a href="tel:+1234567890" class="preview-link" style="display: none; color: inherit; text-decoration: none;">+1 234 567 890</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-map-marker"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Location</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" class="editable-link">Your Location</p>
                                <span class="preview-link" style="display: none;">Your Location</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row social-links">
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-github"></i>
                        </div>
                        <div class="contact-content">
                            <h4>GitHub</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" data-editable-link="github" class="editable-link">github.com/yourusername</p>
                                <a href="https://github.com/yourusername" target="_blank" class="preview-link" style="display: none; color: inherit; text-decoration: none;">github.com/yourusername</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-linkedin"></i>
                        </div>
                        <div class="contact-content">
                            <h4>LinkedIn</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" data-editable-link="linkedin" class="editable-link">linkedin.com/in/yourprofile</p>
                                <a href="https://linkedin.com/in/yourprofile" target="_blank" class="preview-link" style="display: none; color: inherit; text-decoration: none;">linkedin.com/in/yourprofile</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 contact-item">
                        <div class="contact-icon">
                            <i class="fa fa-twitter"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Twitter</h4>
                            <div class="social-link-wrapper">
                                <p contenteditable="true" data-editable-link="twitter" class="editable-link">twitter.com/yourhandle</p>
                                <a href="https://twitter.com/yourhandle" target="_blank" class="preview-link" style="display: none; color: inherit; text-decoration: none;">twitter.com/yourhandle</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section><!-- /.section-contact -->
    </main><!-- /#main -->

    <!-- Portfolio Modal -->
    <div class="portfolio-modal" id="portfolio-modal">
        <div class="portfolio-modal-content">
            <span class="portfolio-modal-close">&times;</span>
            <div class="portfolio-modal-body">
                <img src="" alt="Project Image" id="portfolio-modal-image">
                <div class="portfolio-modal-details">
                    <h2 id="portfolio-modal-title" contenteditable="true">Project title</h2>
                    <p id="portfolio-modal-description" contenteditable="true">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec commodo finibus tristique. Maecenas dignissim condimentum sem eu tincidunt. Curabitur in dui quis magna vestibulum pulvinar a ut urna. Nam pellentesque mattis urna. Aenean eget lectus sit amet turpis facilisis consectetur quis vel ante. Integer in massa ut nibh ultricies sagittis imperdiet in ante. Nam sed turpis vel ante placerat feugiat ac tempus magna. Nam aliquet ullamcorper dolor non hendrerit.</p>
                    <div class="portfolio-modal-buttons">
                    <a href="#" class="btn btn-border" id="portfolio-modal-link">VISIT PAGE</a>
                        <a href="#" class="btn btn-border" id="portfolio-modal-github">CHECK OUT GITHUB</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer id="colophon" class="site-footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-4 col-xs-12">
                    <a class="icon facebook-bg" href="#" data-editable="true"><i class="icon-facebook"></i></a>
                    <a class="icon twitter-bg" href="#" data-editable="true"><i class="icon-twitter"></i></a>
                    <a class="icon gplus-bg" href="#" data-editable="true"><i class="icon-linkedin"></i></a>
                    <a class="icon linkedin-bg" href="#" data-editable="true"><i class="icon-gplus"></i></a>
                </div>
                <div class="col-sm-4 col-sm-offset-0 col-xs-6 col-xs-offset-3"><p class="copyright" contenteditable="true">2023. All Rights Reserved</p></div>
                <div class="col-sm-4 col-xs-3">
                    <div class="text-right page-scroll">
                        <a class="icon icon-up-bg" href="#hero"><i class="icon-up"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer><!-- /#footer -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    <script src="assets/js/skrollr.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-progressbar/0.9.0/bootstrap-progressbar.min.js"></script>
    <script src="assets/js/jquery.countTo.min.js"></script>
    <script src="assets/js/script.js"></script>
    <script src="minimal-portfolio.js"></script>

    <!-- Initialize the Portfolio Perfect template -->
    <script>
        $(document).ready(function() {
            // Initialize skrollr for parallax effects
            if (!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)) {
                skrollr.init({
                    forceHeight: false,
                    smoothScrolling: false,
                    mobileCheck: function() {
                        //hack - forces mobile version to be off
                        return false;
                    }
                });
            }

            // Add sticky header on scroll
            $(window).on('scroll', function() {
                if ($(window).scrollTop() > 100) {
                    $('.site-header').addClass('sticky');
                } else {
                    $('.site-header').removeClass('sticky');
                }
            });

            // Function to set active menu item based on current section
            function setActiveMenuItem() {
                var scrollPos = $(document).scrollTop();
                var windowHeight = $(window).height();
                var found = false;

                // Special case for home/hero section - if we're near the top of the page
                if (scrollPos < 200) {
                    $('.site-navigation ul li').removeClass('active');
                    $('.site-navigation ul li a[href="#hero"]').parent().addClass('active');
                    $('body').removeClass('hero-section about-section projects-section skills-section contact-section');
                    $('body').addClass('hero-section');
                    return;
                }

                // Get the current URL hash if any
                var currentHash = window.location.hash;

                // If we have a hash in the URL, activate that menu item
                if (currentHash && $(currentHash).length) {
                    $('.site-navigation ul li').removeClass('active');
                    $('.site-navigation ul li a[href="' + currentHash + '"]').parent().addClass('active');
                    return;
                }

                // Define sections in order from bottom to top of page for more accurate detection
                var sections = ['#contact', '#skills', '#projects', '#about', '#hero'];

                // Calculate the top and bottom of the viewport
                var viewportTop = scrollPos;
                var viewportBottom = scrollPos + windowHeight;
                var viewportCenter = scrollPos + (windowHeight / 2);

                // Loop through each section to find which one is most visible
                for (var i = 0; i < sections.length; i++) {
                    var section = $(sections[i]);
                    if (section.length) {
                        var sectionTop = section.offset().top;
                        var sectionHeight = section.height();
                        var sectionBottom = sectionTop + sectionHeight;

                        // Check if this section occupies a significant portion of the viewport
                        // or if the viewport center is within this section
                        if ((viewportCenter >= sectionTop && viewportCenter <= sectionBottom) || 
                            (sectionTop < viewportBottom && sectionBottom > viewportTop && 
                             (Math.min(sectionBottom, viewportBottom) - Math.max(sectionTop, viewportTop)) > windowHeight * 0.4)) {
                            
                            // Set this section as active
                            $('.site-navigation ul li').removeClass('active');
                            $('.site-navigation ul li a[href="' + sections[i] + '"]').parent().addClass('active');

                            // Update body classes
                            $('body').removeClass('hero-section about-section projects-section skills-section contact-section');
                            $('body').addClass(sections[i].substring(1) + '-section');

                            found = true;
                            break;
                        }
                    }
                }

                // If no section is dominant, use the one closest to the viewport center
                if (!found) {
                    var closestSection = null;
                    var closestDistance = Infinity;

                    for (var i = 0; i < sections.length; i++) {
                        var section = $(sections[i]);
                        if (section.length) {
                            var sectionTop = section.offset().top;
                            var sectionHeight = section.height();
                            var sectionCenter = sectionTop + (sectionHeight / 2);
                            var distance = Math.abs(viewportCenter - sectionCenter);

                            if (distance < closestDistance) {
                                closestDistance = distance;
                                closestSection = sections[i];
                            }
                        }
                    }

                    if (closestSection) {
                    $('.site-navigation ul li').removeClass('active');
                        $('.site-navigation ul li a[href="' + closestSection + '"]').parent().addClass('active');

                        $('body').removeClass('hero-section about-section projects-section skills-section contact-section');
                        $('body').addClass(closestSection.substring(1) + '-section');
                    }
                }
            }

            // Initialize the first time
            setActiveMenuItem();

            // Update on scroll
            $(window).on('scroll', function() {
                setActiveMenuItem();
            });

            // Add functionality to make progress bars interactive
            $(document).ready(function() {
                // Make progress bars interactive
                $('.progress').each(function() {
                    makeProgressBarInteractive($(this));
                });

                // Also handle newly added progress bars
                $(document).on('DOMNodeInserted', '.progress', function() {
                    makeProgressBarInteractive($(this));
                });
            });

            // Function to make a progress bar interactive
            function makeProgressBarInteractive(progressContainer) {
                const progressBar = progressContainer.find('.progress-bar');
                
                // Remove any existing click handlers to prevent duplicates
                progressContainer.off('click mousedown mousemove');
                
                // Skip if already initialized
                if (progressContainer.data('initialized')) return;
                
                progressContainer.data('initialized', true);
                
                // First ensure the progress bar has consistent initial values
                let initialPercentage = parseInt(progressBar.attr('data-percentage'));
                if (isNaN(initialPercentage)) {
                    initialPercentage = parseInt(progressBar.css('width')) || 50;
                    if (isNaN(initialPercentage)) {
                        initialPercentage = 50;
                    }
                }
                
                // Ensure the width and data attributes are in sync
                progressBar.css('width', initialPercentage + '%');
                progressBar.attr('data-percentage', initialPercentage);
                progressBar.attr('data-transitiongoal', initialPercentage);
                progressBar.attr('data-content', initialPercentage + '%');
                progressBar.attr('aria-valuenow', initialPercentage);
                
                // Handle click to change progress value
                progressContainer.on('click', function(e) {
                    // Check if we're in preview mode - if so, don't allow interaction
                    const previewBtn = document.getElementById('preview-btn');
                    if (previewBtn && previewBtn.getAttribute('data-preview') === 'true') {
                        return; // Exit early if in preview mode
                    }
                    
                    const containerWidth = $(this).width();
                    const clickPosition = e.pageX - $(this).offset().left;
                    const newPercentage = Math.round((clickPosition / containerWidth) * 100);
                    
                    // Update visual width
                    progressBar.css('width', newPercentage + '%');
                    
                    // Update data attributes to keep everything consistent
                    progressBar.attr('data-percentage', newPercentage);
                    progressBar.attr('data-transitiongoal', newPercentage);
                    progressBar.attr('data-content', newPercentage + '%');
                    progressBar.attr('aria-valuenow', newPercentage);
                });
                
                // Add hover effect for better UX
                progressContainer.on('mousemove', function(e) {
                    // Check if we're in preview mode
                    const previewBtn = document.getElementById('preview-btn');
                    if (previewBtn && previewBtn.getAttribute('data-preview') === 'true') {
                        $(this).css('cursor', 'default'); // Change cursor to default in preview mode
                        return; // Exit early if in preview mode
                    } else {
                        $(this).css('cursor', 'pointer'); // Show pointer cursor in edit mode
                    }
                    
                    if ($(this).hasClass('dragging')) {
                        const containerWidth = $(this).width();
                        const movePosition = e.pageX - $(this).offset().left;
                        const newPercentage = Math.min(100, Math.max(0, Math.round((movePosition / containerWidth) * 100)));
                        
                        // Update visual width
                        progressBar.css('width', newPercentage + '%');
                        
                        // Update data attributes for consistency
                        progressBar.attr('data-percentage', newPercentage);
                        progressBar.attr('data-transitiongoal', newPercentage);
                        progressBar.attr('data-content', newPercentage + '%');
                        progressBar.attr('aria-valuenow', newPercentage);
                    }
                });
                
                // Support drag behavior - only in edit mode
                progressContainer.on('mousedown', function(e) {
                    // Check if we're in preview mode
                    const previewBtn = document.getElementById('preview-btn');
                    if (previewBtn && previewBtn.getAttribute('data-preview') === 'true') {
                        return; // Exit early if in preview mode
                    }
                    
                    $(this).addClass('dragging');
                });
                
                $(document).on('mouseup', function() {
                    $('.progress.dragging').removeClass('dragging');
                });
                
                // Support for touch devices - only in edit mode
                progressContainer.on('touchstart', function(e) {
                    // Check if we're in preview mode
                    const previewBtn = document.getElementById('preview-btn');
                    if (previewBtn && previewBtn.getAttribute('data-preview') === 'true') {
                        return; // Exit early if in preview mode
                    }
                    
                    $(this).addClass('dragging');
                });
                
                progressContainer.on('touchmove', function(e) {
                    // Check if we're in preview mode
                    const previewBtn = document.getElementById('preview-btn');
                    if (previewBtn && previewBtn.getAttribute('data-preview') === 'true') {
                        return; // Exit early if in preview mode
                    }
                    
                    if ($(this).hasClass('dragging')) {
                        const containerWidth = $(this).width();
                        const touch = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
                        const movePosition = touch.pageX - $(this).offset().left;
                        const newPercentage = Math.min(100, Math.max(0, Math.round((movePosition / containerWidth) * 100)));
                        
                        // Update visual width
                        progressBar.css('width', newPercentage + '%');
                        
                        // Update data attributes for consistency
                        progressBar.attr('data-percentage', newPercentage);
                        progressBar.attr('data-transitiongoal', newPercentage);
                        progressBar.attr('data-content', newPercentage + '%');
                        progressBar.attr('aria-valuenow', newPercentage);
                    }
                });
                
                progressContainer.on('touchend', function() {
                    $(this).removeClass('dragging');
                });
            }

            // Add button animations
            const toolbarButtons = document.querySelectorAll('.toolbar-btn');
            toolbarButtons.forEach(button => {
                button.addEventListener('click', function() {
                    this.classList.add('clicked');
                    setTimeout(() => {
                        this.classList.remove('clicked');
                    }, 200);
                });
            });

            // Handle removal of skills
            $(document).on('click', '.skill .remove-btn', function() {
                $(this).closest('.skill').fadeOut(300, function() {
                    $(this).remove();
                });
            });

            // Add click handlers for navigation links
            $('.site-navigation ul li a').on('click', function(e) {
                e.preventDefault();
                var target = $(this).attr('href');
                var targetSection = target.substring(1); // Remove the # to get the section name

                // Remove active class from all menu items
                $('.site-navigation ul li').removeClass('active');

                // Add active class to clicked menu item
                $(this).parent().addClass('active');

                // Update body classes for all sections
                $('body').removeClass('hero-section about-section skills-section projects-section contact-section');
                $('body').addClass(targetSection + '-section');

                // Smooth scroll to target
                $('html, body').animate({
                    scrollTop: $(target).offset().top - 120
                }, 800, function() {
                    // After animation completes, update the URL hash
                    if (history.pushState) {
                        history.pushState(null, null, target);
                    } else {
                        window.location.hash = target;
                    }

                    // Force active state again after scroll completes
                    $('.site-navigation ul li').removeClass('active');
                    $('.site-navigation ul li a[href="' + target + '"]').parent().addClass('active');

                    // Make sure the body class is still set correctly
                    $('body').removeClass('hero-section about-section skills-section projects-section contact-section');
                    $('body').addClass(targetSection + '-section');

                    // Force the underline to be visible
                    $('.site-navigation ul li a[href="' + target + '"]').css('position', 'relative');
                    $('.site-navigation ul li a[href="' + target + '"]:after').css('width', '100%');
                });
            });

            // Font family change handler
            $('#font-family-select').on('change', function() {
                const selectedFont = $(this).val();
                
                // Get the current selection
                const selection = window.getSelection();
                
                // Check if there's a selection
                if (selection && !selection.isCollapsed) {
                    // Get the range
                    const range = selection.getRangeAt(0);
                    
                    // Create a temporary span to hold our selection
                    document.execCommand('fontName', false, selectedFont);
                    
                    // Save the state for later restoration
                    if (typeof saveContent === 'function') {
                        saveContent();
                    }
                    
                    return;
                }
                
                // If no selection, fall back to applying to the whole contenteditable element
                let activeElement = document.activeElement;
                if (activeElement && activeElement.getAttribute('contenteditable') === 'true') {
                    // Apply the font family to the active element
                    $(activeElement).css('font-family', selectedFont);
                    
                    // Save the state for later restoration
                    if (typeof saveContent === 'function') {
                        saveContent();
                    }
                }
            });

            // Font size change handler
            $('#font-size-select').on('change', function() {
                const selectedSize = $(this).val();
                
                // Get the current selection
                const selection = window.getSelection();
                
                // Check if there's a selection
                if (selection && !selection.isCollapsed) {
                    // Use document.execCommand for better browser compatibility
                    // First create a span with the font size
                    document.execCommand('fontSize', false, '7');  // Use 7 as a placeholder
                    
                    // Find all font tags created with size=7 and replace with our custom size
                    const fontElements = document.querySelectorAll('font[size="7"]');
                    for (let i = 0; i < fontElements.length; i++) {
                        const font = fontElements[i];
                        // Remove the size attribute
                        font.removeAttribute('size');
                        // Set the specific pixel size
                        font.style.fontSize = selectedSize;
                    }
                    
                    // Save the state for later restoration
                    if (typeof saveContent === 'function') {
                        saveContent();
                    }
                    
                    return;
                }
                
                // If no selection, fall back to applying to the whole contenteditable element
                let activeElement = document.activeElement;
                if (activeElement && activeElement.getAttribute('contenteditable') === 'true') {
                    // Apply the font size to the active element
                    $(activeElement).css('font-size', selectedSize);
                    
                    // Save the state for later restoration
                    if (typeof saveContent === 'function') {
                        saveContent();
                    }
                }
            });

            // Function to update formatting dropdowns based on current selection
            function updateFormattingButtons() {
                // Get the current selection
                const selection = window.getSelection();
                
                // Get the focused element
                const activeElement = document.activeElement;
                
                // If there's a contenteditable element with focus but no selection,
                // still update the dropdowns based on the contenteditable element's style
                if (activeElement && activeElement.getAttribute('contenteditable') === 'true' && 
                    (!selection || selection.isCollapsed)) {
                    
                    updateDropdownsFromElement(activeElement);
                    return;
                }
                
                // If no valid selection, exit early
                if (!selection || selection.rangeCount === 0) return;
                
                // Get the range and common ancestor
                const range = selection.getRangeAt(0);
                if (!range) return;
                
                // Get selected node or its parent if it's a text node
                const selectedNode = selection.focusNode;
                if (!selectedNode) return;
                
                const parentElement = selectedNode.nodeType === 3 ? selectedNode.parentElement : selectedNode;
                if (!parentElement) return;
                
                updateDropdownsFromElement(parentElement);
            }
            
            // Helper function to extract styles from an element and update dropdowns
            function updateDropdownsFromElement(element) {
                // Get the computed style
                const computedStyle = window.getComputedStyle(element);
                
                // Get font family
                let fontFamily = computedStyle.fontFamily;
                
                // Clean up font family (remove quotes and get first font in stack)
                if (fontFamily) {
                    fontFamily = fontFamily.split(',')[0].trim();
                    fontFamily = fontFamily.replace(/["']/g, '');
                }
                
                // Get font size
                let fontSize = computedStyle.fontSize;
                
                // Update dropdowns with these values
                updateFontFamilyDropdown(fontFamily);
                updateFontSizeDropdown(fontSize);
                
                // Also look at child elements if we haven't found inline styles
                // This helps with text that has spans or other elements with direct styling
                const children = element.children;
                if (children.length > 0) {
                    // Check if selection contains or is within any of these children
                    const selection = window.getSelection();
                    if (selection && selection.rangeCount > 0) {
                        const range = selection.getRangeAt(0);
                        
                        for (let i = 0; i < children.length; i++) {
                            const child = children[i];
                            // Check if this child is in the selection
                            if (selection.containsNode(child, true)) {
                                const childStyle = window.getComputedStyle(child);
                                
                                // Use child's style if it seems to override the parent
                                if (childStyle.fontFamily !== computedStyle.fontFamily) {
                                    fontFamily = childStyle.fontFamily.split(',')[0].trim().replace(/["']/g, '');
                                    updateFontFamilyDropdown(fontFamily);
                                }
                                
                                if (childStyle.fontSize !== computedStyle.fontSize) {
                                    fontSize = childStyle.fontSize;
                                    updateFontSizeDropdown(fontSize);
                                }
                                
                                // If this child has its own children, check them too
                                if (child.children.length > 0) {
                                    updateDropdownsFromElement(child);
                                }
                            }
                        }
                    }
                }
            }
            
            // Helper function to update font family dropdown
            function updateFontFamilyDropdown(fontFamily) {
                if (!fontFamily) return;
                
                const fontFamilySelect = $('#font-family-select');
                const options = Array.from(fontFamilySelect[0].options);
                
                // Try to find an exact match first
                let matchingOption = options.find(option => 
                    option.value.toLowerCase() === fontFamily.toLowerCase()
                );
                
                // If no exact match, try partial match
                if (!matchingOption) {
                    matchingOption = options.find(option => 
                        fontFamily.toLowerCase().includes(option.value.toLowerCase()) ||
                        option.value.toLowerCase().includes(fontFamily.toLowerCase())
                    );
                }
                
                // If still no match, use default
                if (matchingOption) {
                    fontFamilySelect.val(matchingOption.value);
                }
            }
            
            // Helper function to update font size dropdown
            function updateFontSizeDropdown(fontSize) {
                if (!fontSize) return;
                
                const fontSizeSelect = $('#font-size-select');
                const options = Array.from(fontSizeSelect[0].options);
                
                // Convert fontSize to pixels if it's not already
                const sizeInPx = parseInt(fontSize);
                if (isNaN(sizeInPx)) return;
                
                // Try to find exact match first
                let matchingOption = options.find(option => 
                    parseInt(option.value) === sizeInPx
                );
                
                // If no exact match, find closest
                if (!matchingOption) {
                    matchingOption = options.reduce((prev, curr) => {
                        const prevDiff = Math.abs(parseInt(prev.value) - sizeInPx);
                        const currDiff = Math.abs(parseInt(curr.value) - sizeInPx);
                        return prevDiff < currDiff ? prev : curr;
                    });
                }
                
                if (matchingOption) {
                    fontSizeSelect.val(matchingOption.value);
                }
            }
            
            // Listen for selection changes to update buttons
            document.addEventListener('selectionchange', updateFormattingButtons);
            
            // Listen for mouseup to catch selections after they're complete
            document.addEventListener('mouseup', function(e) {
                setTimeout(updateFormattingButtons, 10);
            });
            
            // Listen for click events to catch when contenteditable elements are clicked
            document.addEventListener('click', function(e) {
                // Check if we clicked on or within a contenteditable element
                let target = e.target;
                while (target && target !== document) {
                    if (target.getAttribute && target.getAttribute('contenteditable') === 'true') {
                        setTimeout(updateFormattingButtons, 10);
                        break;
                    }
                    target = target.parentNode;
                }
            });
            
            // Listen for focus events on contenteditable elements
            $(document).on('focus', '[contenteditable=true]', function() {
                setTimeout(updateFormattingButtons, 10);
            });
            
            // Completely disable the DOMNodeInserted auto-initialization which might be causing problems
            $(document).off('DOMNodeInserted', '.progress');
            
            // IMPORTANT: Complete rewrite of Add Skill functionality using direct DOM methods 
            // Remove any and all previous jQuery handlers that might be conflicting
            $('#add-skill-btn').off(); // Remove ALL handlers of ANY type
            $('.section-skills').off(); // Remove any delegation handlers
            $(document).off('click', '#add-skill-btn'); // Remove any document-level delegation
            
            // PREVENT DOUBLE EVENT HANDLERS
            // Remove any existing click event listeners by cloning and replacing the button
            const addSkillBtn = document.getElementById('add-skill-btn');
            const newAddSkillBtn = addSkillBtn.cloneNode(true);
            addSkillBtn.parentNode.replaceChild(newAddSkillBtn, addSkillBtn);
            
            // Add a single event listener to the new button
            newAddSkillBtn.addEventListener('click', function(event) {
                // Stop all event propagation and default behavior
                event.preventDefault();
                event.stopPropagation();
                event.stopImmediatePropagation();
                
                console.log("DOM EVENT: Add Skill button clicked - NEW IMPLEMENTATION");
                
                // Create the HTML for the new skill directly
                const skillHtml = `
                    <div class="skill">
                        <div class="item-controls">
                            <button class="section-control-btn remove-btn" title="Remove Skill"><i class="glyphicon glyphicon-trash"></i></button>
                        </div>
                        <h4 contenteditable="true">NEW SKILL</h4>
                        <div class="progress">
                            <div class="progress-bar" role="progressbar" data-transitiongoal="50" data-percentage="50" data-content="50%" style="width: 50%"></div>
                        </div>
                    </div>
                `;
                
                // Find the column with the fewest skills using DOM methods
                const columns = document.querySelectorAll('.section-skills .col-md-4');
                let minSkills = Number.MAX_VALUE;
                let targetColumn = null;
                
                columns.forEach(function(column) {
                    const skillCount = column.querySelectorAll('.skill').length;
                    if (skillCount < minSkills) {
                        minSkills = skillCount;
                        targetColumn = column;
                    }
                });
                
                // Add the new skill to the column
                targetColumn.insertAdjacentHTML('beforeend', skillHtml);
                
                // Get the newly added skill
                const newSkill = targetColumn.lastElementChild;
                
                // Initialize progress bar interactive behaviors
                const progressContainer = newSkill.querySelector('.progress');
                const progressBar = progressContainer.querySelector('.progress-bar');
                
                // Initialize progress bar interactions  
                function handleProgressClick(e) {
                    const rect = progressContainer.getBoundingClientRect();
                    const containerWidth = rect.width;
                    const clickPosition = e.clientX - rect.left;
                    const newPercentage = Math.round((clickPosition / containerWidth) * 100);
                    
                    // Update visual width and attributes
                    progressBar.style.width = newPercentage + '%';
                    progressBar.setAttribute('data-percentage', newPercentage);
                    progressBar.setAttribute('data-transitiongoal', newPercentage);
                    progressBar.setAttribute('data-content', newPercentage + '%');
                    progressBar.setAttribute('aria-valuenow', newPercentage);
                }
                
                // Handle drag operations
                let isDragging = false;
                
                function handleMouseDown(e) {
                    isDragging = true;
                    progressContainer.classList.add('dragging');
                    // Prevent text selection during drag
                    e.preventDefault();
                }
                
                function handleMouseMove(e) {
                    if (!isDragging) return;
                    
                    const rect = progressContainer.getBoundingClientRect();
                    const containerWidth = rect.width;
                    const movePosition = e.clientX - rect.left;
                    const newPercentage = Math.min(100, Math.max(0, Math.round((movePosition / containerWidth) * 100)));
                    
                    // Update progress bar
                    progressBar.style.width = newPercentage + '%';
                    progressBar.setAttribute('data-percentage', newPercentage);
                    progressBar.setAttribute('data-transitiongoal', newPercentage);
                    progressBar.setAttribute('data-content', newPercentage + '%');
                    progressBar.setAttribute('aria-valuenow', newPercentage);
                }
                
                function handleMouseUp() {
                    isDragging = false;
                    progressContainer.classList.remove('dragging');
                }
                
                // Add event listeners directly to the progress bar
                progressContainer.addEventListener('click', handleProgressClick);
                progressContainer.addEventListener('mousedown', handleMouseDown);
                document.addEventListener('mousemove', handleMouseMove);
                document.addEventListener('mouseup', handleMouseUp);
                
                // Add remove button functionality
                const removeBtn = newSkill.querySelector('.remove-btn');
                removeBtn.addEventListener('click', function() {
                    newSkill.remove();
                });
                
                // Make the skill name editable and focus it
                const skillTitle = newSkill.querySelector('h4');
                skillTitle.focus();
                
                // Return false to prevent default behavior
                return false;
            }, {capture: true}); // Use capture to ensure this handler runs first

            // Toggle preview mode
            $('#preview-btn').on('click', function() {
                const isPreview = $(this).attr('data-preview') === 'true';
                const newPreviewState = !isPreview;
                
                $(this).attr('data-preview', newPreviewState);
                $('#preview-text').text(newPreviewState ? 'Edit' : 'Preview');
                
                if (newPreviewState) {
                    // Going into preview mode
                    // Store the current state before changing anything
                    $('[contenteditable="true"]').each(function() {
                        $(this).attr('data-was-editable', 'true');
                        $(this).attr('contenteditable', 'false');
                    });
                    
                    // Remember all editable elements for social links wrapper
                    $('.social-link-wrapper .editable-link').each(function() {
                        $(this).attr('data-was-editable-link', 'true');
                    });
                    
                    // Handle social media links for preview mode
                    $('.social-link-wrapper').each(function() {
                        const editableElem = $(this).find('.editable-link');
                        const previewLink = $(this).find('.preview-link');
                        
                        // Get the text value from editable element and update link
                        const linkText = editableElem.text().trim();
                        
                        // Handle email links
                        if (editableElem.attr('data-editable-link') === 'email') {
                            previewLink.attr('href', 'mailto:' + linkText);
                        } 
                        // Handle phone links
                        else if (previewLink.attr('href') && previewLink.attr('href').startsWith('tel:')) {
                            previewLink.attr('href', 'tel:' + linkText.replace(/\s+/g, ''));
                        }
                        // Handle regular links (GitHub, LinkedIn, Twitter)
                        else if (previewLink.is('a')) {
                            let fullUrl = linkText;
                            
                            // Add https:// if not present
                            if (!fullUrl.startsWith('http://') && !fullUrl.startsWith('https://')) {
                                fullUrl = 'https://' + fullUrl;
                            }
                            
                            // Update the href
                            previewLink.attr('href', fullUrl);
                        }
                        
                        // Update text content
                        previewLink.text(linkText);
                        
                        // Hide editable, show preview
                        editableElem.hide();
                        previewLink.show();
                    });
                } else {
                    // Going back to edit mode
                    
                    // First restore all elements that had contenteditable=true
                    $('[data-was-editable="true"]').attr('contenteditable', 'true');
                    
                    // Make sure all editable link elements are editable too
                    $('[data-was-editable-link="true"]').attr('contenteditable', 'true');
                    
                    // Now handle the social link wrappers specifically
                    $('.social-link-wrapper').each(function() {
                        const editableElem = $(this).find('.editable-link');
                        const previewLink = $(this).find('.preview-link');
                        
                        // Hide preview elements, show and make editable the editable links
                        previewLink.hide();
                        editableElem.show().attr('contenteditable', 'true');
                    });
                    
                    // Ensure all .editable-link elements are editable regardless of other attributes
                    $('.editable-link').attr('contenteditable', 'true');
                }
                
                // Show/hide controls
                $('.item-controls, .section-controls, .edit-mode-only').toggle(!newPreviewState);
                $('.edit-mode-indicator').toggle(!newPreviewState);
                $('.preview-mode-indicator').toggle(newPreviewState);
                
                // Toggle cursor style for progress bars
                $('.progress').css('cursor', newPreviewState ? 'default' : 'pointer');
                $('.section-control-btn').toggle(!newPreviewState);
                
                // Add preview class to body
                $('body').toggleClass('preview-mode', newPreviewState);
            });

            // Update preview links when editable content changes
            $(document).on('input', '.editable-link', function() {
                const linkText = $(this).text().trim();
                const previewLink = $(this).siblings('.preview-link');
                
                // Handle different types of links
                if ($(this).attr('data-editable-link') === 'email') {
                    previewLink.attr('href', 'mailto:' + linkText);
                } else if (previewLink.attr('href') && previewLink.attr('href').startsWith('tel:')) {
                    previewLink.attr('href', 'tel:' + linkText.replace(/\s+/g, ''));
                } else if (previewLink.is('a')) {
                    let fullUrl = linkText;
                    if (!fullUrl.startsWith('http://') && !fullUrl.startsWith('https://')) {
                        fullUrl = 'https://' + fullUrl;
                    }
                    previewLink.attr('href', fullUrl);
                }
                
                previewLink.text(linkText);
            });
        });
    </script>

    <!-- Preview Mode Script -->
    <script src="preview-mode.js"></script>

    <!-- Google Fonts for Added Font Families -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Roboto:wght@300;400;500;700&family=Lato:wght@300;400;700&family=Montserrat:wght@300;400;500;600;700&family=Nunito:wght@300;400;600;700&family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
</body>
</html>
